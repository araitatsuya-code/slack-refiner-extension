# セキュリティについて

この拡張機能では、ユーザーのAPIキーや入力文章などの機密情報を扱うため、以下のセキュリティ対策・注意点を設けています。

---

## 1. APIキーの保存
- APIキーは `chrome.storage.local` に保存されます。
- このストレージは拡張機能自身からのみアクセス可能ですが、同じプロファイル内の他の拡張機能からも技術的にはアクセス可能な場合があります。
- 端末を他人と共有する場合や、業務用・個人用でChromeプロファイルを分けることを推奨します。

## 2. API通信
- OpenAI/Claude APIへの通信はHTTPSで暗号化されています。
- APIキーはリクエストヘッダーに含まれるため、拡張機能のコードが改ざんされた場合や悪意ある拡張機能が同時に動作している場合、漏洩リスクがあります。
- Claude APIは「anthropic-dangerous-direct-browser-access」ヘッダーを利用しており、Anthropicの利用規約もご確認ください。

## 3. 権限設定
- 必要最小限の権限（`storage`, `activeTab`, `host_permissions`）のみを使用しています。
- 不要な権限を追加しないことでリスクを低減しています。

## 4. XSS/CSRF対策
- ポップアップやcontent scriptで外部からのスクリプト実行を許可していません。
- ユーザー入力値をHTMLに埋め込む場合はエスケープ処理を行っています。

## 5. 他の拡張機能との併用リスク
- Chrome拡張は同一プロファイル内で他の拡張機能とリソースを共有します。
- 信頼できる拡張機能のみを有効化し、不要な拡張機能は無効化または削除してください。
- 公式ストア以外から拡張機能をインストールしないでください。

## 6. 公開・運用時の注意
- APIキーをハードコーディングしないでください。
- GitHub等でコードを公開する際は、APIキーや個人情報が含まれていないかご確認ください。

## 7. 推奨追加対策
- より厳格なセキュリティが必要な場合は、サーバー経由でAPIリクエストを中継する設計もご検討ください。
- 利用時のみAPIキーを入力し、都度消去する運用も有効です。